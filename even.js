function initMobile(){var e=document.getElementById("mobile-navbar"),t=document.querySelector(".mobile-navbar-icon"),n=new Slideout({panel:document.getElementById("mobile-panel"),menu:document.getElementById("mobile-menu"),padding:180,tolerance:70});n.disableTouch(),t.addEventListener("click",function(){n.toggle()}),n.on("beforeopen",function(){e.classList.add("fixed-open"),t.classList.add("icon-click"),t.classList.remove("icon-out")}),n.on("beforeclose",function(){e.classList.remove("fixed-open"),t.classList.add("icon-out"),t.classList.remove("icon-click")}),document.getElementById("mobile-panel").addEventListener("touchend",function(){n.isOpen()&&t.click()})}function initToc(){var e=document.querySelectorAll(".toc-link"),t=document.querySelectorAll(".post-content h1 , .post-content h2"),n=document.querySelectorAll(".post-toc-content li"),o=function(e,t){if(!e.length)return -1;t+=30;for(let n=0;n<e.length-1;n++)if(t>e[n].offsetTop&&t<=e[n+1].offsetTop)return n;return t>e[e.length-1].offsetTop?e.length-1:-1};document.addEventListener("scroll",function(){var i=o(t,document.body.scrollTop|document.documentElement.scrollTop);if(e.forEach(function(e){e.classList.remove("active")}),n.forEach(function(e){e.classList.remove("has-active")}),e.length&&-1!==i){e[i].classList.add("active");let l=e[i].parentNode;for(;"NAV"!==l.tagName;)l.classList.add("has-active"),l=l.parentNode.parentNode}})}"complete"!==document.readyState&&("loading"===document.readyState||document.documentElement.doScroll)?(document.addEventListener("DOMContentLoaded",initMobile),document.addEventListener("DOMContentLoaded",initToc)):(initMobile(),initToc());
